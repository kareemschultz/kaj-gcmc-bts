# ==============================================================================
# GCMC-KAJ E2E Test Environment Configuration
# ==============================================================================
# This file contains environment variables for Playwright E2E tests.
# IMPORTANT: Use a separate test database to avoid affecting development data.

# ------------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# ------------------------------------------------------------------------------
# IMPORTANT: This MUST point to a dedicated test database
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/gcmc_kaj_test"

# ------------------------------------------------------------------------------
# Better-Auth Configuration
# ------------------------------------------------------------------------------
# Use same secret as dev for testing
BETTER_AUTH_SECRET="PIapa2tL6BDYWtp75bTGwqWRI8pz+BOA96Goc/dhPIo="

# Better-Auth URL for testing
BETTER_AUTH_URL="http://localhost:3000"

# Trusted origins
CORS_ORIGIN="http://localhost:3001"

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
# Use separate Redis database for tests
REDIS_URL="redis://localhost:6379/1"

# ------------------------------------------------------------------------------
# MinIO Configuration
# ------------------------------------------------------------------------------
MINIO_ENDPOINT="localhost"
MINIO_PORT="9000"
MINIO_USE_SSL="false"
MINIO_ACCESS_KEY="gcmc_kaj_minio_admin"
MINIO_SECRET_KEY="SecureMinIO2024!KAJ"
MINIO_REGION="us-east-1"

# Use test bucket prefix
MINIO_BUCKET_PREFIX="test-tenant"

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------
NODE_ENV="test"

# Next.js app URL (web application)
NEXT_PUBLIC_APP_URL="http://localhost:3001"

# API server URL
NEXT_PUBLIC_API_URL="http://localhost:3000"

# Server URL
NEXT_PUBLIC_SERVER_URL="http://localhost:3000"

# Portal URL
PORTAL_URL="http://localhost:3002"

# Support email
SUPPORT_EMAIL="test-support@example.com"

# ------------------------------------------------------------------------------
# Email Configuration (Testing)
# ------------------------------------------------------------------------------
# Use "log" provider for tests to avoid sending real emails
EMAIL_PROVIDER="log"

# ------------------------------------------------------------------------------
# Monitoring & Logging
# ------------------------------------------------------------------------------
LOG_LEVEL="error"

# ------------------------------------------------------------------------------
# Feature Flags (Testing)
# ------------------------------------------------------------------------------
ENABLE_EMAIL_NOTIFICATIONS="false"
ENABLE_SMS_NOTIFICATIONS="false"
ENABLE_COMPLIANCE_ENGINE="true"
ENABLE_ANALYTICS="true"

# ------------------------------------------------------------------------------
# Test-Specific Configuration
# ------------------------------------------------------------------------------
# Skip certain checks in test environment
SKIP_ENV_VALIDATION="false"

# Test data seeding
SEED_TEST_DATA="true"

# Disable rate limiting for tests
DISABLE_RATE_LIMITING="true"

# ------------------------------------------------------------------------------
# Playwright Configuration
# ------------------------------------------------------------------------------
# Set to true when running in CI
CI="false"

# Playwright headed mode (set to true to see browser during tests)
HEADED="false"

# Playwright slow motion (ms delay between actions, for debugging)
SLOW_MO="0"

# Playwright timeout
PLAYWRIGHT_TIMEOUT="30000"

# ------------------------------------------------------------------------------
# Test Credentials
# ------------------------------------------------------------------------------
# These credentials are seeded by the test setup
TEST_ADMIN_EMAIL="admin@test.gcmc.com"
TEST_ADMIN_PASSWORD="TestPassword123!"

TEST_USER_EMAIL="user@test.gcmc.com"
TEST_USER_PASSWORD="TestPassword123!"

TEST_CLIENT_EMAIL="client@test.gcmc.com"
TEST_CLIENT_PASSWORD="TestPassword123!"
