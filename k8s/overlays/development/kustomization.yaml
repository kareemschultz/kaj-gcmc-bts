apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: gcmc-kaj-development

# Reference to base
resources:
  - ../../base

# Override namespace for development
namespace: gcmc-kaj-dev

# Development-specific labels
commonLabels:
  environment: development
  tier: development

# Development-specific annotations
commonAnnotations:
  environment: development
  deployment-time: "placeholder"

# Name prefix for development resources
namePrefix: dev-

# Resource patches for development environment
patchesStrategicMerge:
  - patches/development-config.yaml
  - patches/development-secrets.yaml
  - patches/development-resources.yaml

# ConfigMap for development environment
configMapGenerator:
  - name: env-config
    literals:
      - NODE_ENV=development
      - LOG_LEVEL=debug
      - DEBUG_MODE=true
      - METRICS_ENABLED=false

# Development-specific replicas (scaled down)
replicas:
  - name: gcmc-kaj-api
    count: 1
  - name: gcmc-kaj-web
    count: 1
  - name: gcmc-kaj-portal
    count: 1
  - name: gcmc-kaj-worker
    count: 1

# Development-specific images (can use different tags)
images:
  - name: ghcr.io/your-org/gcmc-kaj/web
    newTag: dev-latest
  - name: ghcr.io/your-org/gcmc-kaj/server
    newTag: dev-latest
  - name: ghcr.io/your-org/gcmc-kaj/worker
    newTag: dev-latest
  - name: ghcr.io/your-org/gcmc-kaj/portal
    newTag: dev-latest